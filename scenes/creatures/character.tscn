[gd_scene load_steps=16 format=3 uid="uid://dc1qxbru5n4ek"]

[ext_resource type="Script" uid="uid://b4wkanyvxmbvk" path="res://scripts/character_controller.gd" id="1_0gv8e"]
[ext_resource type="Resource" uid="uid://b3mg6ujtq84wc" path="res://resources/items/staff.tres" id="2_2cgup"]
[ext_resource type="PackedScene" uid="uid://b2hu5ng2m1k8f" path="res://imported_data/meshes/characters/player.glb" id="3_4nitn"]
[ext_resource type="AnimationLibrary" uid="uid://dymc3x34dpyus" path="res://imported_data/meshes/characters/core_data/anim_base.res" id="4_4nitn"]
[ext_resource type="Script" uid="uid://cu7derv5j3odh" path="res://scripts/creature_controller.gd" id="5_dp8ca"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_lrhn5"]
radius = 0.31396484
height = 1.7688477

[sub_resource type="Animation" id="Animation_0lw5n"]
length = 0.001

[sub_resource type="AnimationLibrary" id="AnimationLibrary_2cgup"]
_data = {
&"RESET": SubResource("Animation_0lw5n")
}

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_4nitn"]
animation = &"base/A_Idle_Standing_Masc"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_8rgs7"]
animation = &"base/A_Walk_F_Masc"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_psudl"]
animation = &"base/A_Walk_F_Masc"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_23gjd"]
blend_point_0/node = SubResource("AnimationNodeAnimation_4nitn")
blend_point_0/pos = 0.0
blend_point_1/node = SubResource("AnimationNodeAnimation_8rgs7")
blend_point_1/pos = 1.0
blend_point_2/node = SubResource("AnimationNodeAnimation_psudl")
blend_point_2/pos = -1.0

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_78d4d"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_ttk1s"]
states/IWR/node = SubResource("AnimationNodeBlendSpace1D_23gjd")
states/IWR/position = Vector2(534, 100)
states/Start/position = Vector2(215, 100)
transitions = ["Start", "IWR", SubResource("AnimationNodeStateMachineTransition_78d4d")]
graph_offset = Vector2(-202, -74)

[sub_resource type="SphereShape3D" id="SphereShape3D_23gjd"]
radius = 1.1083305

[node name="character" type="CharacterBody3D" node_paths=PackedStringArray("interaction_range")]
script = ExtResource("1_0gv8e")
interaction_range = NodePath("Area3D")
weapon_data = ExtResource("2_2cgup")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.8778238, 0)
shape = SubResource("CapsuleShape3D_lrhn5")

[node name="character" parent="." instance=ExtResource("3_4nitn")]

[node name="GeneralSkeleton" parent="character/Armature" index="0"]
bones/1/position = Vector3(0.0028675434, 0.8689747, -0.023795657)
bones/1/rotation = Quaternion(-0.05649355, -0.14337774, 0.009798311, 0.9880057)
bones/2/rotation = Quaternion(0.06819359, 0.0011985339, -0.013604935, 0.9975786)
bones/3/rotation = Quaternion(0.030438855, 0.03541122, -0.009609538, 0.9988629)
bones/4/rotation = Quaternion(-0.013334204, 0.0358551, -0.004598719, 0.99925756)
bones/5/rotation = Quaternion(0.008726199, -6.508217e-05, 0.008726293, 0.99992394)
bones/6/rotation = Quaternion(-0.010974834, 0.089909546, -0.008997131, 0.9958489)
bones/10/rotation = Quaternion(0.50335485, 0.49647886, -0.50339407, 0.49672645)
bones/11/rotation = Quaternion(0.07805478, 0.8274896, 0.5560225, -0.0027310324)
bones/12/rotation = Quaternion(0.089220285, 0.79607433, -0.15673326, 0.57770246)
bones/13/rotation = Quaternion(0.0037250924, 0.6725712, -0.04962131, 0.73835754)
bones/14/rotation = Quaternion(-0.12365716, 0.74136305, 0.18724115, 0.63247967)
bones/15/rotation = Quaternion(0.06722865, 0.018920116, 0.06798052, 0.9952392)
bones/15/scale = Vector3(1.0001993, 0.99981457, 0.9999862)
bones/16/rotation = Quaternion(-0.00084970414, 0.0013325793, -0.012020328, 0.99992657)
bones/17/rotation = Quaternion(-0.04831105, 0.029839262, -0.019182937, 0.9982023)
bones/18/rotation = Quaternion(0.19461322, 0.040773574, 0.0041609486, 0.98002344)
bones/19/rotation = Quaternion(0.14629719, 0.024925644, 0.0020303475, 0.9889246)
bones/21/rotation = Quaternion(-0.004458989, -0.0032242904, 0.010547176, 0.9999293)
bones/22/rotation = Quaternion(0.24414253, 0.0007210406, -0.0039134193, 0.9697313)
bones/23/rotation = Quaternion(0.19384205, -0.008963873, 0.00012274014, 0.98099184)
bones/25/rotation = Quaternion(0.50330794, -0.49656498, 0.5035509, 0.49652892)
bones/26/rotation = Quaternion(-0.0594856, 0.82414347, 0.56324565, 0.0018689253)
bones/27/rotation = Quaternion(0.102937855, -0.81130606, 0.17160851, 0.54930574)
bones/28/rotation = Quaternion(0.00897323, -0.64831406, 0.025299428, 0.7608998)
bones/29/rotation = Quaternion(-0.13191883, -0.7251673, -0.16912194, 0.65431464)
bones/30/rotation = Quaternion(0.0657296, -0.018433508, -0.06978229, 0.99522376)
bones/30/scale = Vector3(1.0002193, 0.9998061, 0.9999743)
bones/31/rotation = Quaternion(0.0017012978, -0.0017619433, 0.014943743, 0.9998854)
bones/32/rotation = Quaternion(-0.039776187, -0.017648933, 0.023973642, 0.9987651)
bones/33/rotation = Quaternion(0.19571784, -0.04004523, 0.00428491, 0.9798329)
bones/34/rotation = Quaternion(0.14730851, -0.022408249, 0.0032128138, 0.9888315)
bones/36/rotation = Quaternion(-0.004708871, 0.0027386602, -0.01290437, 0.9999019)
bones/37/rotation = Quaternion(0.24468371, 0.0019789273, 0.00947407, 0.96955466)
bones/38/rotation = Quaternion(0.1940997, 0.012424316, 0.0025523615, 0.9808998)
bones/40/rotation = Quaternion(-0.0017063892, -0.06700586, 0.9958344, 0.061816305)
bones/41/rotation = Quaternion(-0.017930977, 0.9790441, -0.096420445, -0.17847782)
bones/42/rotation = Quaternion(0.0987531, 0.63657755, -0.7632338, 0.04991156)
bones/43/rotation = Quaternion(0.007586803, -9.108352e-05, 1.1768322e-05, 0.9999713)
bones/45/rotation = Quaternion(0.0006567467, -0.0006854168, 0.99935615, -0.035867766)
bones/46/rotation = Quaternion(0.02588007, 0.9471731, -0.072853036, 0.3112648)
bones/47/rotation = Quaternion(-0.093197435, 0.69915766, -0.70427686, -0.08054142)

[node name="actual_usable_anim_player" type="AnimationPlayer" parent="character"]
root_node = NodePath("../Armature/GeneralSkeleton")
libraries = {
&"": SubResource("AnimationLibrary_2cgup"),
&"base": ExtResource("4_4nitn")
}

[node name="AnimationTree" type="AnimationTree" parent="character"]
root_node = NodePath("../Armature/GeneralSkeleton")
libraries = {
&"": SubResource("AnimationLibrary_2cgup"),
&"base": ExtResource("4_4nitn")
}
tree_root = SubResource("AnimationNodeStateMachine_ttk1s")
anim_player = NodePath("../actual_usable_anim_player")
parameters/IWR/blend_position = 0.0

[node name="creature_holder" type="Node" parent="."]
script = ExtResource("5_dp8ca")

[node name="NavigationObstacle3D" type="NavigationObstacle3D" parent="."]
visible = false
radius = 0.8
height = 2.0
avoidance_layers = 4

[node name="Area3D" type="Area3D" parent="."]
collision_layer = 8
collision_mask = 8

[node name="CollisionShape3D" type="CollisionShape3D" parent="Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.113, 0)
shape = SubResource("SphereShape3D_23gjd")

[editable path="character"]
