[gd_scene load_steps=13 format=3 uid="uid://dc1qxbru5n4ek"]

[ext_resource type="Script" uid="uid://b4wkanyvxmbvk" path="res://scripts/character_controller.gd" id="1_0gv8e"]
[ext_resource type="Resource" uid="uid://b3mg6ujtq84wc" path="res://resources/items/staff.tres" id="2_2cgup"]
[ext_resource type="PackedScene" uid="uid://b82435qvhgiy4" path="res://imported_data/meshes/animated/Necromancer.glb" id="2_rkhd4"]
[ext_resource type="AnimationLibrary" uid="uid://b827a18iq2vj4" path="res://animations/kay_skeleton.tres" id="4_0lw5n"]
[ext_resource type="Script" uid="uid://dtnev0hrcaemf" path="res://scripts/body_parts/body_part_receiver.gd" id="4_23gjd"]
[ext_resource type="AnimationNodeStateMachine" uid="uid://csec5q8kwamah" path="res://animations/kaykit_tree.tres" id="4_my7n2"]
[ext_resource type="Script" uid="uid://16xd0nprw7xc" path="res://scripts/animation_helpers/weapon_helper.gd" id="4_psudl"]
[ext_resource type="PackedScene" uid="uid://crmy26pc60dws" path="res://skeleton_minion_parts.tscn" id="5_78d4d"]
[ext_resource type="Script" uid="uid://cu7derv5j3odh" path="res://scripts/creature_controller.gd" id="5_dp8ca"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_lrhn5"]
radius = 0.332
height = 1.17964

[sub_resource type="Animation" id="Animation_0lw5n"]
length = 0.001

[sub_resource type="AnimationLibrary" id="AnimationLibrary_2cgup"]
_data = {
&"RESET": SubResource("Animation_0lw5n")
}

[node name="character" type="CharacterBody3D"]
script = ExtResource("1_0gv8e")
movement_speed = 1.0
weapon_data = ExtResource("2_2cgup")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00398634, 0.582965, 0.00322835)
shape = SubResource("CapsuleShape3D_lrhn5")

[node name="Necromancer" parent="." instance=ExtResource("2_rkhd4")]

[node name="Skeleton3D" parent="Necromancer/Rig" index="0" node_paths=PackedStringArray("arm_left")]
bones/1/position = Vector3(1.12326e-18, 0.181701, 2.67805e-25)
bones/1/rotation = Quaternion(-5.38279e-11, 0.0209056, 1.24608e-09, 0.999781)
bones/2/rotation = Quaternion(5.85577e-11, -6.11973e-10, 0.0219957, 0.999758)
bones/3/rotation = Quaternion(1.84282e-11, 2.41423e-09, -0.0219957, 0.999758)
bones/3/scale = Vector3(1, 1, 1)
bones/4/position = Vector3(0.106004, 0.0670661, 4.10687e-08)
bones/4/rotation = Quaternion(-0.60515, -0.230571, -0.591483, 0.480393)
bones/4/scale = Vector3(0.999999, 0.999999, 1)
bones/5/rotation = Quaternion(3.4193e-08, -3.3007e-08, -0.537687, 0.843145)
bones/5/scale = Vector3(1, 0.999999, 1)
bones/6/rotation = Quaternion(1.07952e-08, 6.08306e-09, 0.0266581, 0.999645)
bones/6/scale = Vector3(1, 1, 1)
bones/7/rotation = Quaternion(-0.241186, -0.447746, 0.0450702, 0.859838)
bones/7/scale = Vector3(1, 1, 1)
bones/8/position = Vector3(8.10215e-09, 0.0480626, -0.02875)
bones/8/rotation = Quaternion(0.000585316, 0.000585316, -0.704955, 0.709252)
bones/8/scale = Vector3(1, 1, 1)
bones/9/position = Vector3(-0.106004, 0.0670661, 4.3128e-08)
bones/9/rotation = Quaternion(-0.644423, -0.0147797, 0.471492, 0.601827)
bones/9/scale = Vector3(0.999999, 0.999999, 1)
bones/10/rotation = Quaternion(4.97476e-08, 4.61631e-08, 0.602744, 0.797935)
bones/10/scale = Vector3(1, 1, 1)
bones/11/rotation = Quaternion(-2.89755e-10, -6.91542e-09, -0.0266581, 0.999645)
bones/11/scale = Vector3(1, 1, 1)
bones/12/rotation = Quaternion(-0.378489, 0.230219, -0.0534725, 0.894922)
bones/12/scale = Vector3(1, 1, 1)
bones/13/position = Vector3(-4.02562e-09, 0.0480626, -0.02875)
bones/13/rotation = Quaternion(0.00180733, 0.00212877, 0.705228, 0.708975)
bones/13/scale = Vector3(1, 1, 1)
bones/14/rotation = Quaternion(-2.81216e-11, -0.0151803, -9.10632e-10, 0.999885)
bones/15/position = Vector3(0.0854725, 0.0490812, -0.00512606)
bones/15/rotation = Quaternion(0.998154, 0.0417624, 0.0371222, 0.0238075)
bones/15/scale = Vector3(1, 1, 1)
bones/16/rotation = Quaternion(0.573169, 5.47656e-08, -3.94159e-07, 0.819437)
bones/16/scale = Vector3(1, 1, 1)
bones/17/rotation = Quaternion(-0.686866, -0.103575, 0.0196641, 0.719098)
bones/17/scale = Vector3(1, 1, 0.999999)
bones/18/rotation = Quaternion(-1.097e-06, 0.919959, -0.392014, 3.36105e-07)
bones/18/scale = Vector3(1, 0.999998, 1)
bones/19/position = Vector3(-0.0854725, 0.0567703, 0.00512607)
bones/19/rotation = Quaternion(0.972775, -0.0183887, 0.0115957, 0.230731)
bones/19/scale = Vector3(1, 1, 1)
bones/20/rotation = Quaternion(0.41678, -6.10253e-08, 2.91024e-07, 0.909007)
bones/20/scale = Vector3(1, 0.999999, 1)
bones/21/rotation = Quaternion(-0.650648, 0.0559213, -0.00494286, 0.757301)
bones/21/scale = Vector3(1, 1, 0.999999)
bones/22/rotation = Quaternion(-4.32392e-05, 0.920147, -0.391574, 9.91313e-06)
bones/22/scale = Vector3(1, 0.999999, 1)
bones/23/rotation = Quaternion(0.707107, -2.29302e-07, -4.60552e-08, 0.707107)
bones/24/position = Vector3(0.0930363, -0.00354197, 0.0288307)
bones/24/rotation = Quaternion(-0.552071, -8.19459e-08, -5.62839e-08, 0.833797)
bones/25/position = Vector3(9.47134e-09, 0.181416, 0.00037588)
bones/25/rotation = Quaternion(4.69434e-09, 8.64969e-10, 0.996645, -0.0818514)
bones/26/position = Vector3(5.48468e-09, 0.106718, -1.11022e-16)
bones/26/rotation = Quaternion(3.73381e-08, 0.391084, 0.920355, 2.99158e-08)
bones/26/scale = Vector3(1, 1, 1)
bones/27/position = Vector3(6.20364e-09, 0.082825, 3.4623e-09)
bones/27/rotation = Quaternion(-0.391084, 2.95078e-08, 1.06805e-08, 0.920355)
bones/27/scale = Vector3(1, 1, 1)
bones/28/rotation = Quaternion(1, -2.47806e-09, 7.84563e-08, 3.60821e-09)
bones/29/rotation = Quaternion(2.01626e-17, 4.71017e-17, -1.94669e-08, 1)
bones/30/rotation = Quaternion(0.707107, -3.82385e-08, 1.45009e-07, 0.707107)
bones/31/position = Vector3(-0.0854726, 0.05071, 0.170191)
bones/31/rotation = Quaternion(-0.794162, -6.14729e-08, -7.83528e-08, 0.607706)
bones/31/scale = Vector3(1, 1, 1)
bones/32/position = Vector3(9.72905e-09, 0.181416, 0.000260116)
bones/32/rotation = Quaternion(-2.82999e-09, 3.12215e-10, 0.998782, 0.0493445)
bones/33/position = Vector3(-1.9659e-09, 0.106718, -1.25224e-09)
bones/33/rotation = Quaternion(3.1578e-08, 0.391084, 0.920355, 2.81806e-08)
bones/33/scale = Vector3(1, 1, 1)
bones/34/position = Vector3(1.0046e-08, 0.082825, -9.18139e-09)
bones/34/rotation = Quaternion(-0.391084, 3.02134e-08, 1.23409e-08, 0.920355)
bones/34/scale = Vector3(1, 1, 1)
bones/35/rotation = Quaternion(1, 2.92791e-09, 7.31024e-08, 2.21051e-16)
bones/36/rotation = Quaternion(3.84237e-09, -1.35277e-16, -1.76628e-08, 1)
bones/36/scale = Vector3(1, 1, 1)
bones/37/position = Vector3(0.226754, 0.495208, -0.370502)
bones/37/rotation = Quaternion(-0.707107, -7.27951e-08, -7.27951e-08, 0.707107)
bones/38/position = Vector3(0.258445, 0.429576, 0.0413888)
bones/38/rotation = Quaternion(0.781479, 0.300574, 0.506353, 0.206281)
bones/38/scale = Vector3(1, 1, 1)
bones/39/position = Vector3(-0.226754, 0.495208, -0.370502)
bones/39/rotation = Quaternion(-0.707107, -7.27951e-08, -7.27951e-08, 0.707107)
bones/40/position = Vector3(-0.256025, 0.409892, -0.0302526)
bones/40/rotation = Quaternion(-0.749662, 0.0684639, 0.65542, -0.0611864)
bones/40/scale = Vector3(1, 1, 1)
script = ExtResource("4_23gjd")
donor = ExtResource("5_78d4d")
arm_left = NodePath("Necromancer_ArmLeft")

[node name="Necromancer_ArmLeft" parent="Necromancer/Rig/Skeleton3D" index="0"]
visible = false

[node name="handslot_r" type="BoneAttachment3D" parent="Necromancer/Rig/Skeleton3D" index="7"]
transform = Transform3D(-0.0237224, -0.0858463, -0.996025, -0.986042, 0.166244, 0.00915708, 0.164797, 0.98234, -0.088592, -0.269324, 0.344217, -0.0157022)
bone_name = "handslot.r"
bone_idx = 13

[node name="marker_2h" type="Marker3D" parent="Necromancer/Rig/Skeleton3D/handslot_r"]
script = ExtResource("4_psudl")

[node name="AnimationPlayer" parent="Necromancer" index="1"]
libraries = {
&"": ExtResource("4_0lw5n")
}

[node name="AnimationTree" type="AnimationTree" parent="."]
root_node = NodePath("../Necromancer")
tree_root = ExtResource("4_my7n2")
anim_player = NodePath("../actual_usable_anim_player")
parameters/2H_Melee_Attack_Chop/atk_speed/scale = 1.5
parameters/IWR/blend_position = -0.515714

[node name="creature_holder" type="Node" parent="."]
script = ExtResource("5_dp8ca")

[node name="actual_usable_anim_player" type="AnimationPlayer" parent="."]
root_node = NodePath("../Necromancer")
libraries = {
&"": SubResource("AnimationLibrary_2cgup"),
&"kay_skeleton": ExtResource("4_0lw5n")
}

[node name="NavigationObstacle3D" type="NavigationObstacle3D" parent="."]
radius = 0.4
avoidance_layers = 4

[editable path="Necromancer"]
