[gd_scene load_steps=13 format=3 uid="uid://dc1qxbru5n4ek"]

[ext_resource type="Script" uid="uid://b4wkanyvxmbvk" path="res://scripts/character_controller.gd" id="1_0gv8e"]
[ext_resource type="Resource" uid="uid://b3mg6ujtq84wc" path="res://resources/items/staff.tres" id="2_2cgup"]
[ext_resource type="PackedScene" uid="uid://b82435qvhgiy4" path="res://imported_data/meshes/animated/Necromancer.glb" id="2_rkhd4"]
[ext_resource type="AnimationLibrary" uid="uid://b827a18iq2vj4" path="res://imported_data/animations/kay_skeleton.tres" id="4_0lw5n"]
[ext_resource type="Script" uid="uid://dtnev0hrcaemf" path="res://scripts/body_parts/body_part_receiver.gd" id="4_23gjd"]
[ext_resource type="AnimationNodeStateMachine" uid="uid://csec5q8kwamah" path="res://imported_data/animations/kaykit_tree.tres" id="4_my7n2"]
[ext_resource type="Script" uid="uid://16xd0nprw7xc" path="res://scripts/animation_helpers/weapon_helper.gd" id="4_psudl"]
[ext_resource type="Script" uid="uid://cu7derv5j3odh" path="res://scripts/creature_controller.gd" id="5_dp8ca"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_lrhn5"]
radius = 0.6
height = 2.4

[sub_resource type="Animation" id="Animation_0lw5n"]
length = 0.001

[sub_resource type="AnimationLibrary" id="AnimationLibrary_2cgup"]
_data = {
&"RESET": SubResource("Animation_0lw5n")
}

[sub_resource type="SphereShape3D" id="SphereShape3D_23gjd"]
radius = 1.53587

[node name="character" type="CharacterBody3D" node_paths=PackedStringArray("interaction_range")]
script = ExtResource("1_0gv8e")
interaction_range = NodePath("Area3D")
weapon_data = ExtResource("2_2cgup")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.1934, 0)
shape = SubResource("CapsuleShape3D_lrhn5")

[node name="Necromancer" parent="." instance=ExtResource("2_rkhd4")]

[node name="Skeleton3D" parent="Necromancer/Rig" index="0"]
bones/0/position = Vector3(0, 4.299879e-05, 0)
bones/1/position = Vector3(0, 0.37977025, 0)
bones/1/rotation = Quaternion(8.255177e-05, -1.1920927e-07, 9.840936e-12, 1)
bones/2/rotation = Quaternion(9.755553e-05, 0.000111992595, 0.004919268, 0.9999879)
bones/3/rotation = Quaternion(3.623549e-05, 2.0232612e-06, -0.0049185865, 0.9999879)
bones/3/scale = Vector3(0.99999994, 0.99999994, 1)
bones/4/position = Vector3(0.21200734, 0.13412406, -4.212398e-05)
bones/4/rotation = Quaternion(-0.7157581, -0.1252733, -0.4393879, 0.52814335)
bones/4/scale = Vector3(0.9999995, 0.99999905, 0.9999998)
bones/5/rotation = Quaternion(2.1543437e-08, -3.2877328e-08, -0.70939666, 0.7048096)
bones/5/scale = Vector3(1.0000008, 0.9999993, 1)
bones/6/rotation = Quaternion(7.3505544e-09, -9.982229e-11, 0.026658094, 0.99964464)
bones/6/scale = Vector3(0.99999994, 1, 1)
bones/7/rotation = Quaternion(-0.34745824, -0.3587819, -0.011307027, 0.8662682)
bones/7/scale = Vector3(0.99999994, 0.99999964, 1.0000005)
bones/8/position = Vector3(3.0508993e-08, 0.09612507, -0.057500005)
bones/8/rotation = Quaternion(-4.7277907e-05, 4.728112e-05, -0.70697695, 0.7072366)
bones/8/scale = Vector3(1.0000001, 1.0000001, 1)
bones/9/position = Vector3(-0.2119853, 0.13411303, -3.6169324e-05)
bones/9/rotation = Quaternion(-0.7224913, 0.06414036, 0.410265, 0.55278844)
bones/9/scale = Vector3(0.9999996, 0.9999991, 0.9999998)
bones/10/rotation = Quaternion(3.7372462e-08, 4.618935e-08, 0.7181271, 0.695912)
bones/10/scale = Vector3(1.0000007, 0.9999997, 1)
bones/11/rotation = Quaternion(-1.03762304e-10, 2.994129e-10, -0.0266581, 0.99964464)
bones/11/scale = Vector3(1.0000001, 1.0000001, 1)
bones/12/rotation = Quaternion(-0.37736702, 0.30849922, 0.010896003, 0.87310004)
bones/12/scale = Vector3(1, 1.0000002, 1)
bones/13/position = Vector3(-7.8356344e-10, 0.096125096, -0.057500035)
bones/13/rotation = Quaternion(-4.7277907e-05, -4.7281104e-05, 0.70697695, 0.7072366)
bones/13/scale = Vector3(1, 1, 1)
bones/14/rotation = Quaternion(-0.00011197475, -0.00010829416, 6.6235402e-06, 1)
bones/15/position = Vector3(0.17094506, 0.09690704, -0.0021715)
bones/15/rotation = Quaternion(0.9944286, -1.08827315e-07, -1.7626911e-08, -0.1054131)
bones/15/scale = Vector3(1, 0.9999996, 1.0000012)
bones/16/rotation = Quaternion(0.22721085, 6.7237636e-08, -1.5779047e-07, 0.9738456)
bones/16/scale = Vector3(1, 1, 1.0000004)
bones/17/rotation = Quaternion(-0.658117, -3.744678e-08, -8.685126e-08, 0.7529157)
bones/17/scale = Vector3(1, 1.0000004, 0.9999996)
bones/18/rotation = Quaternion(-8.520587e-09, 0.9200171, -0.39187828, 1.0915572e-07)
bones/18/scale = Vector3(1, 0.99999803, 1.0000014)
bones/19/position = Vector3(-0.17094506, 0.100293286, 0.002171528)
bones/19/rotation = Quaternion(0.8231479, 3.3229898e-07, -3.2937564e-08, 0.56782705)
bones/19/scale = Vector3(1, 1, 1.000001)
bones/20/rotation = Quaternion(0.8797752, -3.2822467e-08, 6.1097506e-07, 0.47539)
bones/20/scale = Vector3(1, 0.99999905, 1.0000011)
bones/21/rotation = Quaternion(-0.35859796, 4.849197e-08, -4.1644492e-07, 0.9334921)
bones/21/scale = Vector3(1, 1.0000011, 0.99999887)
bones/22/rotation = Quaternion(3.8776495e-08, 0.9200527, -0.39179483, 9.857512e-08)
bones/22/scale = Vector3(1, 0.99999976, 1.0000012)
bones/23/rotation = Quaternion(0.7071068, -2.2930234e-07, -4.6055177e-08, 0.7071068)
bones/24/position = Vector3(0.17094502, 0.018274706, 0.12193483)
bones/24/rotation = Quaternion(-0.70738214, -7.049854e-08, -7.055843e-08, 0.7068313)
bones/25/position = Vector3(1.9458106e-08, 0.36283267, 0.0009455536)
bones/25/rotation = Quaternion(6.661541e-15, -1.3832112e-22, 1, 1.9095299e-19)
bones/26/position = Vector3(3.7529415e-09, 0.21343614, -8.894663e-12)
bones/26/rotation = Quaternion(3.49345e-08, 0.39108434, 0.92035484, 2.9526047e-08)
bones/26/scale = Vector3(1, 0.99999994, 0.9999999)
bones/27/position = Vector3(5.1908593e-09, 0.16565005, 1.3223392e-08)
bones/27/rotation = Quaternion(-0.39108434, 2.950781e-08, 1.06804645e-08, 0.92035484)
bones/27/scale = Vector3(1, 0.99999994, 1)
bones/28/rotation = Quaternion(1, -8.866531e-16, 7.54979e-08, -1.3399585e-22)
bones/29/rotation = Quaternion(-1.2814638e-11, 1.5431143e-16, -1.946692e-08, 1)
bones/30/rotation = Quaternion(0.7071068, -3.823849e-08, 1.4500867e-07, 0.7071068)
bones/31/position = Vector3(-0.17094506, 0.02808786, 0.14330798)
bones/31/rotation = Quaternion(-0.29241222, -1.01270174e-07, -2.510781e-08, 0.9562924)
bones/31/scale = Vector3(1, 0.99999994, 0.99999994)
bones/32/position = Vector3(1.9458104e-08, 0.36283264, -4.7236566e-09)
bones/32/rotation = Quaternion(6.7722766e-15, -1.38321e-22, 1, 9.981504e-16)
bones/33/position = Vector3(-1.1148222e-08, 0.21343614, 4.440892e-16)
bones/33/rotation = Quaternion(3.4934533e-08, 0.39108434, 0.92035484, 2.9526054e-08)
bones/33/scale = Vector3(1, 0.99999994, 0.9999999)
bones/34/position = Vector3(2.0079211e-08, 0.16565005, -3.061508e-08)
bones/34/rotation = Quaternion(-0.39108434, 2.9507804e-08, 1.0680495e-08, 0.92035484)
bones/34/scale = Vector3(1, 0.99999994, 1)
bones/35/rotation = Quaternion(1, -5.2338352e-15, 7.5497894e-08, 3.3498997e-23)
bones/36/rotation = Quaternion(7.444174e-09, -2.1289776e-16, -1.9466906e-08, 1)
bones/36/scale = Vector3(1, 0.9999999, 0.99999994)
bones/37/position = Vector3(0.45350754, 0.8811819, -0.8837085)
bones/37/rotation = Quaternion(-0.7071068, -7.279511e-08, -7.279509e-08, 0.7071068)
bones/38/position = Vector3(0.51318145, 0.9073789, 0.043096285)
bones/38/rotation = Quaternion(0.6398092, 0.30112645, 0.63985693, 0.30091566)
bones/38/scale = Vector3(0.9999999, 0.9999999, 1)
bones/39/position = Vector3(-0.45350713, 0.8811819, -0.8837087)
bones/39/rotation = Quaternion(-0.7071068, -7.279511e-08, -7.279509e-08, 0.7071068)
bones/40/position = Vector3(-0.51318157, 0.8985641, -0.0017123229)
bones/40/rotation = Quaternion(-0.65712374, 0.26111424, 0.65721846, -0.2609058)
bones/40/scale = Vector3(0.99999994, 0.99999994, 1)
script = ExtResource("4_23gjd")

[node name="handslot_r" type="BoneAttachment3D" parent="Necromancer/Rig/Skeleton3D" index="7"]
transform = Transform3D(-0.0023289449, 0.002686155, -0.9999933, -0.7259342, 0.687755, 0.0035382733, 0.68776, 0.72593784, 0.00034757928, -0.50558263, 0.80088085, 0.112252794)
bone_name = "handslot.r"
bone_idx = 13

[node name="marker_2h" type="Marker3D" parent="Necromancer/Rig/Skeleton3D/handslot_r"]
script = ExtResource("4_psudl")

[node name="LookAtModifier3D" type="LookAtModifier3D" parent="Necromancer/Rig/Skeleton3D" index="8"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.21297, 1.01102, 1.32833)
bone_name = "head"
bone = 14

[node name="AnimationPlayer" parent="Necromancer" index="1"]
libraries = {
&"": ExtResource("4_0lw5n")
}

[node name="AnimationTree" type="AnimationTree" parent="."]
root_node = NodePath("../Necromancer")
libraries = {
&"": SubResource("AnimationLibrary_2cgup"),
&"kay_skeleton": ExtResource("4_0lw5n")
}
tree_root = ExtResource("4_my7n2")
anim_player = NodePath("../actual_usable_anim_player")
parameters/2H_Melee_Attack_Chop/atk_speed/scale = 1.5
parameters/IWR/blend_position = -1.50129

[node name="creature_holder" type="Node" parent="."]
script = ExtResource("5_dp8ca")

[node name="actual_usable_anim_player" type="AnimationPlayer" parent="."]
root_node = NodePath("../Necromancer")
libraries = {
&"": SubResource("AnimationLibrary_2cgup"),
&"kay_skeleton": ExtResource("4_0lw5n")
}

[node name="NavigationObstacle3D" type="NavigationObstacle3D" parent="."]
visible = false
radius = 0.8
height = 2.0
avoidance_layers = 4

[node name="Area3D" type="Area3D" parent="."]
collision_layer = 8
collision_mask = 8

[node name="CollisionShape3D" type="CollisionShape3D" parent="Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.113, 0)
shape = SubResource("SphereShape3D_23gjd")

[editable path="Necromancer"]
