[gd_scene load_steps=16 format=3 uid="uid://dc1qxbru5n4ek"]

[ext_resource type="Script" uid="uid://b4wkanyvxmbvk" path="res://scripts/character_controller.gd" id="1_0gv8e"]
[ext_resource type="Resource" uid="uid://b3mg6ujtq84wc" path="res://resources/items/staff.tres" id="2_2cgup"]
[ext_resource type="PackedScene" uid="uid://b2hu5ng2m1k8f" path="res://imported_data/meshes/characters/player.glb" id="3_4nitn"]
[ext_resource type="AnimationLibrary" uid="uid://dymc3x34dpyus" path="res://imported_data/meshes/characters/core_data/anim_base.res" id="4_4nitn"]
[ext_resource type="Script" uid="uid://cu7derv5j3odh" path="res://scripts/creature_controller.gd" id="5_dp8ca"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_lrhn5"]
radius = 0.31396484
height = 1.7688477

[sub_resource type="Animation" id="Animation_0lw5n"]
length = 0.001

[sub_resource type="AnimationLibrary" id="AnimationLibrary_2cgup"]
_data = {
&"RESET": SubResource("Animation_0lw5n")
}

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_4nitn"]
animation = &"base/A_Idle_Standing_Masc"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_8rgs7"]
animation = &"base/A_Walk_F_Masc"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_psudl"]
animation = &"base/A_Walk_F_Masc"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_23gjd"]
blend_point_0/node = SubResource("AnimationNodeAnimation_4nitn")
blend_point_0/pos = 0.0
blend_point_1/node = SubResource("AnimationNodeAnimation_8rgs7")
blend_point_1/pos = 1.0
blend_point_2/node = SubResource("AnimationNodeAnimation_psudl")
blend_point_2/pos = -1.0

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_78d4d"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_ttk1s"]
states/IWR/node = SubResource("AnimationNodeBlendSpace1D_23gjd")
states/IWR/position = Vector2(534, 100)
states/Start/position = Vector2(215, 100)
transitions = ["Start", "IWR", SubResource("AnimationNodeStateMachineTransition_78d4d")]
graph_offset = Vector2(-202, -74)

[sub_resource type="SphereShape3D" id="SphereShape3D_23gjd"]
radius = 1.1083305

[node name="character" type="CharacterBody3D" node_paths=PackedStringArray("interaction_range")]
script = ExtResource("1_0gv8e")
interaction_range = NodePath("Area3D")
weapon_data = ExtResource("2_2cgup")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.8778238, 0)
shape = SubResource("CapsuleShape3D_lrhn5")

[node name="character" parent="." instance=ExtResource("3_4nitn")]

[node name="GeneralSkeleton" parent="character/Armature" index="0"]
bones/1/position = Vector3(0.0014087037, 0.8679393, -0.028646473)
bones/1/rotation = Quaternion(-0.057022493, -0.14352752, 0.013521004, 0.98790973)
bones/2/rotation = Quaternion(0.06792222, 0.0013877875, -0.015945068, 0.9975623)
bones/3/rotation = Quaternion(0.028059794, 0.03534753, -0.012674182, 0.9989008)
bones/4/rotation = Quaternion(-0.01718221, 0.036016475, -0.002701214, 0.99919987)
bones/5/rotation = Quaternion(0.008726199, -6.508217e-05, 0.008726293, 0.99992394)
bones/6/rotation = Quaternion(-0.010680255, 0.09041815, -0.012513168, 0.9957681)
bones/10/rotation = Quaternion(0.50057435, 0.49918962, -0.49979028, 0.5004446)
bones/11/rotation = Quaternion(0.09030136, 0.8250882, 0.55773115, -0.0033260623)
bones/12/rotation = Quaternion(0.080889136, 0.80100346, -0.14607926, 0.57490116)
bones/13/rotation = Quaternion(0.0052607064, 0.67087317, -0.060238726, 0.73910266)
bones/14/rotation = Quaternion(-0.13134281, 0.73760635, 0.18622778, 0.6356141)
bones/15/rotation = Quaternion(0.060780823, 0.017010823, 0.06212396, 0.9960708)
bones/15/scale = Vector3(1.0001993, 0.99981457, 0.9999862)
bones/16/rotation = Quaternion(-0.007267707, -0.0006623838, -0.017938655, 0.9998125)
bones/17/rotation = Quaternion(-0.056864776, 0.026854677, -0.021143561, 0.9977968)
bones/18/rotation = Quaternion(0.18602996, 0.03928373, 0.0030106318, 0.9817539)
bones/19/rotation = Quaternion(0.13762332, 0.023457648, 0.00094498537, 0.9902064)
bones/21/rotation = Quaternion(-0.013366446, -0.0031018925, 0.0096262945, 0.9998595)
bones/22/rotation = Quaternion(0.2354974, 0.00047759095, -0.004846169, 0.9718628)
bones/23/rotation = Quaternion(0.18508947, -0.009122919, -0.0007334095, 0.98267907)
bones/25/rotation = Quaternion(0.49940634, -0.50061136, 0.4993629, 0.5006178)
bones/26/rotation = Quaternion(-0.06095373, 0.82214886, 0.56599677, 0.0019242116)
bones/27/rotation = Quaternion(0.10298174, -0.8087133, 0.16995206, 0.55361897)
bones/28/rotation = Quaternion(0.0092739975, -0.6530235, 0.015015099, 0.757132)
bones/29/rotation = Quaternion(-0.1395287, -0.72109824, -0.16828315, 0.6574419)
bones/30/rotation = Quaternion(0.059275553, -0.016544692, -0.06392591, 0.99605536)
bones/30/scale = Vector3(1.0002193, 0.9998061, 0.9999743)
bones/31/rotation = Quaternion(-0.004708421, 0.00026673873, 0.020859718, 0.99977136)
bones/32/rotation = Quaternion(-0.048353013, -0.014613427, 0.025825044, 0.9983895)
bones/33/rotation = Quaternion(0.18714672, -0.038480237, 0.005426834, 0.98156303)
bones/34/rotation = Quaternion(0.13863978, -0.020893263, 0.0042744023, 0.99011326)
bones/36/rotation = Quaternion(-0.013615587, 0.0025952104, -0.011979055, 0.9998323)
bones/37/rotation = Quaternion(0.23603748, 0.0022722126, 0.010382473, 0.9716859)
bones/38/rotation = Quaternion(0.18534464, 0.012607301, 0.0033774294, 0.982587)
bones/40/rotation = Quaternion(-0.001641052, -0.06399977, 0.995883, 0.06417661)
bones/41/rotation = Quaternion(-0.017992282, 0.97929156, -0.09824352, -0.1761041)
bones/42/rotation = Quaternion(0.09585176, 0.62782705, -0.7708889, 0.04874479)
bones/43/rotation = Quaternion(-0.003127117, 3.754595e-05, -4.850832e-06, 0.9999951)
bones/45/rotation = Quaternion(0.00060598436, 0.0018184627, 0.999429, -0.033736646)
bones/46/rotation = Quaternion(0.025995202, 0.947135, -0.073198065, 0.31129023)
bones/47/rotation = Quaternion(-0.092965, 0.70129013, -0.70221865, -0.08024233)

[node name="actual_usable_anim_player" type="AnimationPlayer" parent="character"]
root_node = NodePath("../Armature/GeneralSkeleton")
libraries = {
&"": SubResource("AnimationLibrary_2cgup"),
&"base": ExtResource("4_4nitn")
}

[node name="AnimationTree" type="AnimationTree" parent="character"]
root_node = NodePath("../Armature/GeneralSkeleton")
libraries = {
&"": SubResource("AnimationLibrary_2cgup"),
&"base": ExtResource("4_4nitn")
}
tree_root = SubResource("AnimationNodeStateMachine_ttk1s")
anim_player = NodePath("../actual_usable_anim_player")
parameters/IWR/blend_position = 0.0

[node name="creature_holder" type="Node" parent="."]
script = ExtResource("5_dp8ca")

[node name="NavigationObstacle3D" type="NavigationObstacle3D" parent="."]
visible = false
radius = 0.8
height = 2.0
avoidance_layers = 4

[node name="Area3D" type="Area3D" parent="."]
collision_layer = 8
collision_mask = 8

[node name="CollisionShape3D" type="CollisionShape3D" parent="Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.113, 0)
shape = SubResource("SphereShape3D_23gjd")

[editable path="character"]
