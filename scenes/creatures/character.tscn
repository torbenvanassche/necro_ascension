[gd_scene load_steps=19 format=3 uid="uid://dc1qxbru5n4ek"]

[ext_resource type="Script" uid="uid://b4wkanyvxmbvk" path="res://scripts/character_scripts/character_controller.gd" id="1_0gv8e"]
[ext_resource type="Resource" uid="uid://b3mg6ujtq84wc" path="res://resources/items/staff.tres" id="2_2cgup"]
[ext_resource type="PackedScene" uid="uid://b2hu5ng2m1k8f" path="res://imported_data/meshes/characters/player.glb" id="3_4nitn"]
[ext_resource type="AnimationLibrary" uid="uid://dymc3x34dpyus" path="res://imported_data/meshes/characters/core_data/anim_base.res" id="4_4nitn"]
[ext_resource type="Skin" uid="uid://dpueybvoins38" path="res://imported_data/meshes/characters/core_data/skin.tres" id="4_8rgs7"]
[ext_resource type="Script" uid="uid://cu7derv5j3odh" path="res://scripts/character_scripts/creature_controller.gd" id="5_dp8ca"]
[ext_resource type="Material" uid="uid://b82fgnu3ninq0" path="res://materials/visible_through_geometry.tres" id="7_psudl"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_lrhn5"]
radius = 0.31396484
height = 1.7688477

[sub_resource type="Animation" id="Animation_0lw5n"]
length = 0.001

[sub_resource type="AnimationLibrary" id="AnimationLibrary_2cgup"]
_data = {
&"RESET": SubResource("Animation_0lw5n")
}

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_4nitn"]
animation = &"base/A_Idle_Standing_Masc"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_8rgs7"]
animation = &"base/A_Walk_F_Masc"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_psudl"]
animation = &"base/A_Walk_F_Masc"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_23gjd"]
blend_point_0/node = SubResource("AnimationNodeAnimation_4nitn")
blend_point_0/pos = 0.0
blend_point_1/node = SubResource("AnimationNodeAnimation_8rgs7")
blend_point_1/pos = 1.0
blend_point_2/node = SubResource("AnimationNodeAnimation_psudl")
blend_point_2/pos = -1.0

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_78d4d"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_ttk1s"]
states/IWR/node = SubResource("AnimationNodeBlendSpace1D_23gjd")
states/IWR/position = Vector2(534, 100)
states/Start/position = Vector2(215, 100)
transitions = ["Start", "IWR", SubResource("AnimationNodeStateMachineTransition_78d4d")]
graph_offset = Vector2(-202, -74)

[sub_resource type="SphereShape3D" id="SphereShape3D_23gjd"]
radius = 1.1083305

[sub_resource type="SphereMesh" id="SphereMesh_8rgs7"]
radius = 1.5
height = 3.0

[node name="character" type="CharacterBody3D" node_paths=PackedStringArray("interaction_range")]
script = ExtResource("1_0gv8e")
interaction_range = NodePath("Area3D")
weapon_data = ExtResource("2_2cgup")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.8778238, 0)
shape = SubResource("CapsuleShape3D_lrhn5")

[node name="character" parent="." instance=ExtResource("3_4nitn")]

[node name="GeneralSkeleton" parent="character/Armature" index="0"]
bones/1/position = Vector3(0.0010488657, 0.8684087, -0.029136503)
bones/1/rotation = Quaternion(-0.056650605, -0.1434224, 0.010903078, 0.98797876)
bones/2/rotation = Quaternion(0.068607576, 0.0012102487, -0.013824124, 0.99754727)
bones/3/rotation = Quaternion(0.028258896, 0.0355816, -0.0099906055, 0.9989172)
bones/4/rotation = Quaternion(-0.019469874, 0.035996355, -0.004880308, 0.9991504)
bones/5/rotation = Quaternion(0.008726199, -6.508217e-05, 0.008726293, 0.99992394)
bones/6/rotation = Quaternion(-0.017930383, 0.09369182, -0.011398758, 0.9953745)
bones/10/rotation = Quaternion(0.49825883, 0.5013268, -0.4965709, 0.5038126)
bones/11/rotation = Quaternion(0.09391955, 0.8221997, 0.5613864, -0.0034926562)
bones/12/rotation = Quaternion(0.08136125, 0.8012734, -0.14696197, 0.574233)
bones/13/rotation = Quaternion(0.008651629, 0.6706731, -0.052605245, 0.7398348)
bones/14/rotation = Quaternion(-0.13288741, 0.73683983, 0.18602479, 0.63624126)
bones/15/rotation = Quaternion(0.059750065, 0.01670558, 0.061187603, 0.99619627)
bones/15/scale = Vector3(1.0001993, 0.99981457, 0.9999862)
bones/16/rotation = Quaternion(-0.008293177, -0.0009811256, -0.018884256, 0.99978685)
bones/17/rotation = Quaternion(-0.058586612, 0.02625233, -0.021534605, 0.99770474)
bones/18/rotation = Quaternion(0.184657, 0.039045308, 0.0028268134, 0.9820231)
bones/19/rotation = Quaternion(0.13623631, 0.023222856, 0.0007715422, 0.9904039)
bones/21/rotation = Quaternion(-0.014789709, -0.003082452, 0.009479039, 0.999841)
bones/22/rotation = Quaternion(0.23411426, 0.000438745, -0.004995229, 0.9721962)
bones/23/rotation = Quaternion(0.18368956, -0.009148225, -0.0008701971, 0.9829414)
bones/25/rotation = Quaternion(0.49714437, -0.50292695, 0.496936, 0.50295794)
bones/26/rotation = Quaternion(-0.05954289, 0.8216036, 0.5669381, 0.0018582384)
bones/27/rotation = Quaternion(0.10498087, -0.8092135, 0.17376949, 0.55132276)
bones/28/rotation = Quaternion(0.007228906, -0.6525374, 0.0202905, 0.7574504)
bones/29/rotation = Quaternion(-0.14105774, -0.7202691, -0.16811551, 0.6580671)
bones/30/rotation = Quaternion(0.058243774, -0.016242763, -0.06298968, 0.99618083)
bones/30/scale = Vector3(1.0002193, 0.9998061, 0.9999743)
bones/31/rotation = Quaternion(-0.005732562, 0.0005909968, 0.021804797, 0.9997457)
bones/32/rotation = Quaternion(-0.049723484, -0.014127347, 0.026118075, 0.99832153)
bones/33/rotation = Quaternion(0.18577574, -0.038229924, 0.0056092925, 0.98183215)
bones/34/rotation = Quaternion(0.13725357, -0.020651022, 0.0044440296, 0.99031067)
bones/36/rotation = Quaternion(-0.015038686, 0.0025721798, -0.011831134, 0.9998136)
bones/37/rotation = Quaternion(0.23465408, 0.0023190423, 0.0105275335, 0.9720192)
bones/38/rotation = Quaternion(0.18394428, 0.012636373, 0.0035093024, 0.98284924)
bones/40/rotation = Quaternion(-0.0016418498, -0.06409379, 0.99610573, 0.060521606)
bones/41/rotation = Quaternion(-0.017771713, 0.9794806, -0.09731141, -0.1755916)
bones/42/rotation = Quaternion(0.09469863, 0.6318835, -0.7676978, 0.048944663)
bones/43/rotation = Quaternion(0.00084623316, -1.015761e-05, 1.3123491e-06, 0.9999997)
bones/45/rotation = Quaternion(0.0006071156, 0.0017922766, 0.9993258, -0.03666773)
bones/46/rotation = Quaternion(0.025733417, 0.9472302, -0.07242224, 0.31120387)
bones/47/rotation = Quaternion(-0.09316016, 0.70173573, -0.701756, -0.08016632)

[node name="PolygonSyntyCharacterMesh" parent="character/Armature/GeneralSkeleton" index="0"]
skin = ExtResource("4_8rgs7")

[node name="actual_usable_anim_player" type="AnimationPlayer" parent="character"]
root_node = NodePath("../Armature/GeneralSkeleton")
libraries = {
&"": SubResource("AnimationLibrary_2cgup"),
&"base": ExtResource("4_4nitn")
}

[node name="AnimationTree" type="AnimationTree" parent="character"]
root_node = NodePath("../Armature/GeneralSkeleton")
libraries = {
&"": SubResource("AnimationLibrary_2cgup"),
&"base": ExtResource("4_4nitn")
}
tree_root = SubResource("AnimationNodeStateMachine_ttk1s")
anim_player = NodePath("../actual_usable_anim_player")
parameters/IWR/blend_position = 0.0

[node name="creature_holder" type="Node" parent="."]
script = ExtResource("5_dp8ca")

[node name="NavigationObstacle3D" type="NavigationObstacle3D" parent="."]
visible = false
radius = 0.8
height = 2.0
avoidance_layers = 4

[node name="Area3D" type="Area3D" parent="."]
collision_layer = 8
collision_mask = 8

[node name="CollisionShape3D" type="CollisionShape3D" parent="Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.113, 0)
shape = SubResource("SphereShape3D_23gjd")

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.049985, 0)
mesh = SubResource("SphereMesh_8rgs7")
surface_material_override/0 = ExtResource("7_psudl")

[editable path="character"]
