[gd_scene load_steps=17 format=3 uid="uid://dc1qxbru5n4ek"]

[ext_resource type="Script" uid="uid://b4wkanyvxmbvk" path="res://scripts/character_scripts/character_controller.gd" id="1_0gv8e"]
[ext_resource type="Resource" uid="uid://b3mg6ujtq84wc" path="res://resources/items/staff.tres" id="2_2cgup"]
[ext_resource type="PackedScene" uid="uid://b2hu5ng2m1k8f" path="res://imported_data/meshes/characters/player.glb" id="3_4nitn"]
[ext_resource type="AnimationLibrary" uid="uid://dymc3x34dpyus" path="res://imported_data/meshes/characters/core_data/anim_base.res" id="4_4nitn"]
[ext_resource type="Skin" uid="uid://dpueybvoins38" path="res://imported_data/meshes/characters/core_data/skin.tres" id="4_8rgs7"]
[ext_resource type="Script" uid="uid://cu7derv5j3odh" path="res://scripts/character_scripts/creature_controller.gd" id="5_dp8ca"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_lrhn5"]
radius = 0.31396484
height = 1.7688477

[sub_resource type="Animation" id="Animation_0lw5n"]
length = 0.001

[sub_resource type="AnimationLibrary" id="AnimationLibrary_2cgup"]
_data = {
&"RESET": SubResource("Animation_0lw5n")
}

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_4nitn"]
animation = &"base/A_Idle_Standing_Masc"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_8rgs7"]
animation = &"base/A_Walk_F_Masc"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_psudl"]
animation = &"base/A_Walk_F_Masc"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_23gjd"]
blend_point_0/node = SubResource("AnimationNodeAnimation_4nitn")
blend_point_0/pos = 0.0
blend_point_1/node = SubResource("AnimationNodeAnimation_8rgs7")
blend_point_1/pos = 1.0
blend_point_2/node = SubResource("AnimationNodeAnimation_psudl")
blend_point_2/pos = -1.0

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_78d4d"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_ttk1s"]
states/IWR/node = SubResource("AnimationNodeBlendSpace1D_23gjd")
states/IWR/position = Vector2(534, 100)
states/Start/position = Vector2(215, 100)
transitions = ["Start", "IWR", SubResource("AnimationNodeStateMachineTransition_78d4d")]
graph_offset = Vector2(-202, -74)

[sub_resource type="SphereShape3D" id="SphereShape3D_23gjd"]
radius = 1.1083305

[node name="character" type="CharacterBody3D" node_paths=PackedStringArray("interaction_range")]
script = ExtResource("1_0gv8e")
interaction_range = NodePath("Area3D")
weapon_data = ExtResource("2_2cgup")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.8778238, 0)
shape = SubResource("CapsuleShape3D_lrhn5")

[node name="character" parent="." instance=ExtResource("3_4nitn")]

[node name="GeneralSkeleton" parent="character/Armature" index="0"]
bones/1/position = Vector3(0.0009767851, 0.8688456, -0.029142575)
bones/1/rotation = Quaternion(-0.05639552, -0.14334975, 0.009108942, 0.98802197)
bones/2/rotation = Quaternion(0.069477454, 0.0010907815, -0.012437088, 0.9975055)
bones/3/rotation = Quaternion(0.02896376, 0.03573557, -0.007976197, 0.9989097)
bones/4/rotation = Quaternion(-0.021183137, 0.03598107, -0.0063726055, 0.9991077)
bones/5/rotation = Quaternion(0.008726199, -6.508217e-05, 0.008726293, 0.99992394)
bones/6/rotation = Quaternion(-0.019732988, 0.09569369, -0.010444846, 0.99516046)
bones/10/rotation = Quaternion(0.49666733, 0.50278443, -0.4944023, 0.5060591)
bones/11/rotation = Quaternion(0.09500166, 0.8192896, 0.56544375, -0.0035340847)
bones/12/rotation = Quaternion(0.08289341, 0.80073166, -0.14912006, 0.5742132)
bones/13/rotation = Quaternion(0.009995898, 0.6713332, -0.0479961, 0.7395325)
bones/14/rotation = Quaternion(-0.13051058, 0.73801714, 0.1863378, 0.6352764)
bones/15/rotation = Quaternion(0.06148001, 0.017217847, 0.062759005, 0.9959845)
bones/15/scale = Vector3(1.0001993, 0.99981457, 0.9999862)
bones/16/rotation = Quaternion(-0.0065719825, -0.00044610008, -0.017297212, 0.99982876)
bones/17/rotation = Quaternion(-0.055937637, 0.027178653, -0.020931872, 0.99784476)
bones/18/rotation = Quaternion(0.18696113, 0.0394454, 0.0031353615, 0.9815701)
bones/19/rotation = Quaternion(0.13856417, 0.023616826, 0.0010626564, 0.9900713)
bones/21/rotation = Quaternion(-0.012400884, -0.0031152363, 0.009726128, 0.99987096)
bones/22/rotation = Quaternion(0.23643549, 0.00050395244, -0.00474509, 0.9716356)
bones/23/rotation = Quaternion(0.18603908, -0.0091057345, -0.0006406259, 0.98249996)
bones/25/rotation = Quaternion(0.4958796, -0.5042122, 0.4955793, 0.50425667)
bones/26/rotation = Quaternion(-0.059021026, 0.81983256, 0.56955063, 0.001825922)
bones/27/rotation = Quaternion(0.10493731, -0.8094015, 0.173824, 0.5510377)
bones/28/rotation = Quaternion(0.0075814365, -0.651087, 0.023631189, 0.7585973)
bones/29/rotation = Quaternion(-0.13870482, -0.72154295, -0.16837417, 0.6571051)
bones/30/rotation = Quaternion(0.059975438, -0.01674955, -0.06456106, 0.99596906)
bones/30/scale = Vector3(1.0002193, 0.9998061, 0.9999743)
bones/31/rotation = Quaternion(-0.004013549, 4.6932684e-05, 0.020218454, 0.99978757)
bones/32/rotation = Quaternion(-0.047423366, -0.01494295, 0.025625238, 0.9984343)
bones/33/rotation = Quaternion(0.18807662, -0.038650054, 0.0053030876, 0.9813793)
bones/34/rotation = Quaternion(0.13958004, -0.021057522, 0.004159332, 0.98997813)
bones/36/rotation = Quaternion(-0.012650097, 0.002610768, -0.012079411, 0.99984366)
bones/37/rotation = Quaternion(0.23697567, 0.0022404457, 0.010284007, 0.9714587)
bones/38/rotation = Quaternion(0.1862945, 0.012587407, 0.003288068, 0.9824078)
bones/40/rotation = Quaternion(-0.0016394807, -0.0639674, 0.9961872, 0.059300423)
bones/41/rotation = Quaternion(-0.017793063, 0.97947264, -0.097455196, -0.1755545)
bones/42/rotation = Quaternion(0.09423926, 0.6353042, -0.7649025, 0.049313378)
bones/43/rotation = Quaternion(0.0053214077, -6.38867e-05, 8.2548195e-06, 0.9999859)
bones/45/rotation = Quaternion(0.00061387196, 0.0014721289, 0.999252, -0.03863736)
bones/46/rotation = Quaternion(0.025460666, 0.94732505, -0.07161006, 0.31112537)
bones/47/rotation = Quaternion(-0.09327584, 0.7019741, -0.7015069, -0.08012491)

[node name="PolygonSyntyCharacterMesh" parent="character/Armature/GeneralSkeleton" index="0"]
skin = ExtResource("4_8rgs7")

[node name="actual_usable_anim_player" type="AnimationPlayer" parent="character"]
root_node = NodePath("../Armature/GeneralSkeleton")
libraries = {
&"": SubResource("AnimationLibrary_2cgup"),
&"base": ExtResource("4_4nitn")
}

[node name="AnimationTree" type="AnimationTree" parent="character"]
root_node = NodePath("../Armature/GeneralSkeleton")
libraries = {
&"": SubResource("AnimationLibrary_2cgup"),
&"base": ExtResource("4_4nitn")
}
tree_root = SubResource("AnimationNodeStateMachine_ttk1s")
anim_player = NodePath("../actual_usable_anim_player")
parameters/IWR/blend_position = 0.0

[node name="creature_holder" type="Node" parent="."]
script = ExtResource("5_dp8ca")

[node name="NavigationObstacle3D" type="NavigationObstacle3D" parent="."]
visible = false
radius = 0.8
height = 2.0
avoidance_layers = 4

[node name="Area3D" type="Area3D" parent="."]
collision_layer = 8
collision_mask = 8

[node name="CollisionShape3D" type="CollisionShape3D" parent="Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.113, 0)
shape = SubResource("SphereShape3D_23gjd")

[editable path="character"]
