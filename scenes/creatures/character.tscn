[gd_scene load_steps=16 format=3 uid="uid://dc1qxbru5n4ek"]

[ext_resource type="Script" uid="uid://b4wkanyvxmbvk" path="res://scripts/character_controller.gd" id="1_0gv8e"]
[ext_resource type="Resource" uid="uid://b3mg6ujtq84wc" path="res://resources/items/staff.tres" id="2_2cgup"]
[ext_resource type="PackedScene" uid="uid://b2hu5ng2m1k8f" path="res://imported_data/meshes/characters/player.glb" id="3_4nitn"]
[ext_resource type="AnimationLibrary" uid="uid://dymc3x34dpyus" path="res://imported_data/meshes/characters/core_data/anim_base.res" id="4_4nitn"]
[ext_resource type="Script" uid="uid://cu7derv5j3odh" path="res://scripts/creature_controller.gd" id="5_dp8ca"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_lrhn5"]
radius = 0.31396484
height = 1.7688477

[sub_resource type="Animation" id="Animation_0lw5n"]
length = 0.001

[sub_resource type="AnimationLibrary" id="AnimationLibrary_2cgup"]
_data = {
&"RESET": SubResource("Animation_0lw5n")
}

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_4nitn"]
animation = &"base/A_Idle_Standing_Masc"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_8rgs7"]
animation = &"base/A_Walk_F_Masc"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_psudl"]
animation = &"base/A_Walk_F_Masc"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_23gjd"]
blend_point_0/node = SubResource("AnimationNodeAnimation_4nitn")
blend_point_0/pos = 0.0
blend_point_1/node = SubResource("AnimationNodeAnimation_8rgs7")
blend_point_1/pos = 1.0
blend_point_2/node = SubResource("AnimationNodeAnimation_psudl")
blend_point_2/pos = -1.0

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_78d4d"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_ttk1s"]
states/IWR/node = SubResource("AnimationNodeBlendSpace1D_23gjd")
states/IWR/position = Vector2(534, 100)
states/Start/position = Vector2(215, 100)
transitions = ["Start", "IWR", SubResource("AnimationNodeStateMachineTransition_78d4d")]
graph_offset = Vector2(-202, -74)

[sub_resource type="SphereShape3D" id="SphereShape3D_23gjd"]
radius = 1.1083305

[node name="character" type="CharacterBody3D" node_paths=PackedStringArray("interaction_range")]
script = ExtResource("1_0gv8e")
interaction_range = NodePath("Area3D")
weapon_data = ExtResource("2_2cgup")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.8778238, 0)
shape = SubResource("CapsuleShape3D_lrhn5")

[node name="character" parent="." instance=ExtResource("3_4nitn")]

[node name="GeneralSkeleton" parent="character/Armature" index="0"]
bones/1/position = Vector3(0.002328913, 0.86772424, -0.027359353)
bones/1/rotation = Quaternion(-0.057087697, -0.14354585, 0.013980321, 0.9878968)
bones/2/rotation = Quaternion(0.06773823, 0.0013823867, -0.015841149, 0.9975765)
bones/3/rotation = Quaternion(0.028737672, 0.035206787, -0.013524593, 0.9988753)
bones/4/rotation = Quaternion(-0.014504173, 0.03600597, -0.0016367206, 0.999245)
bones/5/rotation = Quaternion(0.008726199, -6.508217e-05, 0.008726293, 0.99992394)
bones/6/rotation = Quaternion(-0.0085608065, 0.08896435, -0.010926529, 0.9959381)
bones/10/rotation = Quaternion(0.50301176, 0.49689716, -0.5032001, 0.49685234)
bones/11/rotation = Quaternion(0.0831811, 0.8249016, 0.559115, -0.002959032)
bones/12/rotation = Quaternion(0.083926976, 0.7938719, -0.14730826, 0.58397263)
bones/13/rotation = Quaternion(-0.0032735958, 0.67129844, -0.068964034, 0.7379646)
bones/14/rotation = Quaternion(-0.124431044, 0.74098915, 0.1871389, 0.6327962)
bones/15/rotation = Quaternion(0.06658048, 0.018728185, 0.06739172, 0.99532646)
bones/15/scale = Vector3(1.0001993, 0.99981457, 0.9999862)
bones/16/rotation = Quaternion(-0.0014950668, 0.0011319548, -0.012615462, 0.9999187)
bones/17/rotation = Quaternion(-0.049171235, 0.029539693, -0.019381464, 0.9981653)
bones/18/rotation = Quaternion(0.1937508, 0.04062388, 0.004045239, 0.980201)
bones/19/rotation = Quaternion(0.14542538, 0.024778198, 0.0019212596, 0.98905706)
bones/21/rotation = Quaternion(-0.0053547597, -0.003212076, 0.010454648, 0.9999259)
bones/22/rotation = Quaternion(0.24327406, 0.0006964774, -0.0040072408, 0.96994907)
bones/23/rotation = Quaternion(0.19296251, -0.008979954, 3.6627313e-05, 0.98116505)
bones/25/rotation = Quaternion(0.5021974, -0.49772358, 0.50235856, 0.49769974)
bones/26/rotation = Quaternion(-0.06344116, 0.82114935, 0.5671727, 0.0020426076)
bones/27/rotation = Quaternion(0.101876505, -0.8094168, 0.16850236, 0.5532383)
bones/28/rotation = Quaternion(0.015802404, -0.6507283, 0.021841174, 0.7588321)
bones/29/rotation = Quaternion(-0.13268517, -0.7247617, -0.16903715, 0.6546308)
bones/30/rotation = Quaternion(0.0650808, -0.018243615, -0.069193564, 0.99531096)
bones/30/scale = Vector3(1.0002193, 0.9998061, 0.9999743)
bones/31/rotation = Quaternion(0.0010567397, -0.0015579208, 0.015538695, 0.9998776)
bones/32/rotation = Quaternion(-0.040638696, -0.0173442, 0.024161188, 0.9987312)
bones/33/rotation = Quaternion(0.19485664, -0.039888054, 0.0043997616, 0.9800105)
bones/34/rotation = Quaternion(0.14643723, -0.0222559, 0.0033195578, 0.9889641)
bones/36/rotation = Quaternion(-0.005604579, 0.0027243525, -0.012811342, 0.9998986)
bones/37/rotation = Quaternion(0.2438151, 0.0020084623, 0.009565485, 0.96977246)
bones/38/rotation = Quaternion(0.19321996, 0.01244271, 0.0026353397, 0.9810731)
bones/40/rotation = Quaternion(-0.0016701604, -0.065342024, 0.99569845, 0.065669246)
bones/41/rotation = Quaternion(-0.017939487, 0.9792038, -0.097317025, -0.17710857)
bones/42/rotation = Quaternion(0.09747697, 0.6272129, -0.7711886, 0.048687126)
bones/43/rotation = Quaternion(-0.003895484, 4.6768815e-05, -6.042446e-06, 0.9999925)
bones/45/rotation = Quaternion(0.0006077046, 0.0017165295, 0.99944896, -0.03314366)
bones/46/rotation = Quaternion(0.026439786, 0.9470566, -0.07460068, 0.31115857)
bones/47/rotation = Quaternion(-0.0924562, 0.7000641, -0.70348436, -0.08044834)

[node name="actual_usable_anim_player" type="AnimationPlayer" parent="character"]
root_node = NodePath("../Armature/GeneralSkeleton")
libraries = {
&"": SubResource("AnimationLibrary_2cgup"),
&"base": ExtResource("4_4nitn")
}

[node name="AnimationTree" type="AnimationTree" parent="character"]
root_node = NodePath("../Armature/GeneralSkeleton")
libraries = {
&"": SubResource("AnimationLibrary_2cgup"),
&"base": ExtResource("4_4nitn")
}
tree_root = SubResource("AnimationNodeStateMachine_ttk1s")
anim_player = NodePath("../actual_usable_anim_player")
parameters/IWR/blend_position = 0.0

[node name="creature_holder" type="Node" parent="."]
script = ExtResource("5_dp8ca")

[node name="NavigationObstacle3D" type="NavigationObstacle3D" parent="."]
visible = false
radius = 0.8
height = 2.0
avoidance_layers = 4

[node name="Area3D" type="Area3D" parent="."]
collision_layer = 8
collision_mask = 8

[node name="CollisionShape3D" type="CollisionShape3D" parent="Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.113, 0)
shape = SubResource("SphereShape3D_23gjd")

[editable path="character"]
